# reposcore-js
A CLI for scoring student participation in an open-source class repo, implemented in JavaScript (Node.js).

>
> **ì£¼ì˜ì‚¬í•­**
> - ì ˆëŒ€ë¡œ `README.md`ì˜ ë‚´ìš©ì„ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ë§ ê²ƒ! (í…œí”Œë¦¿ì—ì„œ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ í¬í•¨ë¨)
> - ë°˜ë“œì‹œ `Readme_Template.md`ì˜ ë‚´ìš©ì„ ìˆ˜ì •í•œ í›„ `node lib/GenerateReadme.js` ì‹¤í–‰í•˜ì—¬ `READ.md`ì˜ ë‚´ìš©ì„ ìµœì‹ í™” í•´ì•¼ í•¨.
>

## Install dependencies
```bash
npm install
```

## Usage
ì•„ë˜ëŠ” `node index.js -h` ë˜ëŠ” `node index.js --help` ì‹¤í–‰ ê²°ê³¼ë¥¼ ë¶™ì—¬ë„£ì€ ê²ƒì´ë¯€ë¡œ
ëª…ë ¹ì¤„ ê´€ë ¨ ì½”ë“œê°€ ë³€ê²½ë˜ë©´ ì•„ë˜ ë‚´ìš©ë„ ê·¸ì— ë§ê²Œ ìˆ˜ì •í•´ì•¼ í•¨.

```


Usage: node index.js [ì˜µì…˜] <ì €ì¥ì†Œ ê²½ë¡œ..>

Options:
  -a, --api-key <token>  GitHub ì•¡ì„¸ìŠ¤ í† í° (ì„ íƒ)
  -o, --output <dir>     ê²°ê³¼ ì €ì¥ í´ë” (default: "results")
  -f, --format <type>    ì¶œë ¥ í˜•ì‹ (choices: "text", "table", "chart", "all",
                         default: "all")
  -c, --use-cache        ì €ì¥ëœ GitHub ë°ì´í„° ì‚¬ìš©
  -u, --user-name        ì‚¬ìš©ì ì‹¤ëª… í‘œì‹œ
  --check-limit          GitHub API ì‚¬ìš©ëŸ‰ í™•ì¸
  -t, --theme <theme>    ë¶„ì„ í…Œë§ˆ ì„¤ì • (default/dark)
  --create-theme <json>  ìƒˆ í…Œë§ˆ ìƒì„± (JSON í˜•ì‹)
  --change-theme <name>  ì‚¬ìš©í•  í…Œë§ˆ ì„ íƒ (default, dark, ë˜ëŠ” ì‚¬ìš©ì ì •ì˜)
  --user <username>      í•´ë‹¹ ì‚¬ìš©ì ê²°ê³¼ë§Œ í‘œì‹œ
  -h, --help             ë„ì›€ë§ ë³´ê¸°


```
## `package-lock.json` ì»¤ë°‹ ê¸ˆì§€ ì•ˆë‚´
GitHub Codespacesì—ì„œ ë³¸ í”„ë¡œì íŠ¸ë¥¼ ì—´ë©´ `npm install`ì´ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, ì´ ê³¼ì •ì—ì„œ `package-lock.json` íŒŒì¼ì´ ìë™ ìƒì„±ë©ë‹ˆë‹¤.
ì´ íŒŒì¼ì€ í”„ë¡œì íŠ¸ ë²„ì „ ê´€ë¦¬ì— í¬í•¨ë˜ì§€ ì•Šì•„ì•¼ í•˜ë¯€ë¡œ, ì ˆëŒ€ ì»¤ë°‹í•˜ì§€ ë§ì•„ì•¼ í•©ë‹ˆë‹¤.

**ì»¤ë°‹ ì‹œ `package-lock.json` ì œì™¸í•˜ëŠ” ë°©ë²•**

- ì»¤ë°‹í•  íŒŒì¼ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ë°©ë²•:

    ```bash
    git add index.js analyzer.js package.json
    ```
- ë˜ëŠ” `package-lock.json`ì´ ì´ë¯¸ ìƒì„±ëœ ê²½ìš°:

    ```bash
    rm package-lock.json               # íŒŒì¼ ì‚­ì œ
    git restore --staged package-lock.json  # ìŠ¤í…Œì´ì§• ì˜ì—­ì—ì„œ ì œì™¸
    ```
- ì˜ˆì™¸ë¡œ `package-lock.json` ì´ë‚˜ `result.png` ë“± tempíŒŒì¼ë“¤ì„ ì‚­ì œí•˜ëŠ” ë°©ë²•:
    
    ```bash
    npm run clean
    ```

## ì˜ì¡´ì„± ê´€ë¦¬ ì£¼ì˜ì‚¬í•­
ìƒˆë¡œìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•  ê²½ìš°, package.json íŒŒì¼ì—ë„ ë°˜ë“œì‹œ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì •ë³´ë¥¼ ì¶”ê°€í•´ ì£¼ì„¸ìš”.
ì´ëŠ” í˜‘ì—… ì¤‘ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì‹¤í–‰ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê³ , ì˜ì¡´ì„± ê´€ë¦¬ë¥¼ ì›í™œí•˜ê²Œ í•˜ê¸° ìœ„í•œ í•„ìˆ˜ ì ˆì°¨ì…ë‹ˆë‹¤.

package.jsonì€ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ì¡´ì„±) ì •ë³´ë¥¼ ì •ë¦¬í•´ ë†“ì€ ì„¤ì • íŒŒì¼ì…ë‹ˆë‹¤.
ì´ íŒŒì¼ì— ì •ë³´ê°€ ëˆ„ë½ë˜ë©´, ë‹¤ë¥¸ ê¸°ì—¬ìë“¤ì´ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (`Util.js`)
ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•´, ì§ì ‘ì ì¸ ë¡œì§ì´ë‚˜ í•µì‹¬ ê¸°ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ê³µí†µì ì¸ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤ì„ ë³„ë„ì˜ íŒŒì¼ì¸ Util.jsì— ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•©ë‹ˆë‹¤.

## ì½”ë“œ ê²€ì‚¬ (Lint)

ESLint ì„¤ì •ì´ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
npm run lint
```

## Score Formula
ì•„ë˜ëŠ” PR ê°œìˆ˜ì™€ ì´ìŠˆ ê°œìˆ˜ì˜ ë¹„ìœ¨ì— ë”°ë¼ ì ìˆ˜ë¡œ ì¸ì •ê°€ëŠ¥í•œ ìµœëŒ€ ê°œìˆ˜ë¥¼ êµ¬í•˜ê³  ê° ë°°ì ì— ë”°ë¼ ìµœì¢… ì ìˆ˜ë¥¼ ì‚°ì¶œí•˜ëŠ” ê³µì‹ì´ë‹¤.

- $P_{fb}$ : ê¸°ëŠ¥ ë˜ëŠ” ë²„ê·¸ ê´€ë ¨ Merged PR ê°œìˆ˜ (**3ì **) ($P_{fb} = P_f + P_b$)  
- $P_d$ : ë¬¸ì„œ ê´€ë ¨ Merged PR ê°œìˆ˜ (**2ì **)  
- $P_t$: ì˜¤íƒ€ ìˆ˜ì • PR ê°œìˆ˜ (**1ì **)  
- $I_{fb}$ : ê¸°ëŠ¥ ë˜ëŠ” ë²„ê·¸ ê´€ë ¨ Open ë˜ëŠ” í•´ê²°ëœ ì´ìŠˆ ê°œìˆ˜ (**2ì **) ($I_{fb} = I_f + I_b$)  
- $I_d$ : ë¬¸ì„œ ê´€ë ¨ Open ë˜ëŠ” í•´ê²°ëœ ì´ìŠˆ ê°œìˆ˜ (**1ì **)

$P_{\text{valid}} = P_{fb} + \min(P_d+P_t, 3 \times \max(P_{fb},1)) ~~\quad$ ì ìˆ˜ ì¸ì • ê°€ëŠ¥ PR ê°œìˆ˜\
$I_{\text{valid}} = \min(I_{fb} + I_d, 4 \times P_{\text{valid}}) \quad$ ì ìˆ˜ ì¸ì • ê°€ëŠ¥ ì´ìŠˆ ê°œìˆ˜

PRì˜ ì ìˆ˜ë¥¼ ìµœëŒ€ë¡œ í•˜ê¸° ìœ„í•´ ê¸°ëŠ¥/ë²„ê·¸ PRì„ ë¨¼ì € ê³„ì‚°í•œ í›„ ë¬¸ì„œ PRì„ ê³„ì‚°í•©ë‹ˆë‹¤.

$P_{fb}^* = \min(P_{fb}, P_{\text{valid}}) \quad$ ê¸°ëŠ¥/ë²„ê·¸ PR ìµœëŒ€ í¬í•¨\
$P_d^* = \min(P_d, P_{\text{valid}} - P_{fb}^* ) \quad$ ë‚¨ì€ ê°œìˆ˜ì—ì„œ ë¬¸ì„œ PR í¬í•¨\
$P_t^* = \max(0, P_{\text{valid}} - P_{fb}^* - P_d^*)\quad$ ë‚¨ì€ ê°œìˆ˜ì—ì„œ ì˜¤íƒ€ PR í¬í•¨

ì´ìŠˆì˜ ì ìˆ˜ë¥¼ ìµœëŒ€ë¡œ í•˜ê¸° ìœ„í•´ ê¸°ëŠ¥/ë²„ê·¸ ì´ìŠˆë¥¼ ë¨¼ì € ê³„ì‚°í•œ í›„ ë¬¸ì„œ ì´ìŠˆë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.

$I_{fb}^* = \min(I_{fb}, I_{\text{valid}}) \quad$ ê¸°ëŠ¥/ë²„ê·¸ ì´ìŠˆ ìµœëŒ€ í¬í•¨\
$I_d^* = I_{\text{valid}} - I_{fb}^* ~~\quad$ ë‚¨ì€ ê°œìˆ˜ì—ì„œ ë¬¸ì„œ ì´ìŠˆ í¬í•¨

ìµœì¢… ì ìˆ˜ ê³„ì‚° ê³µì‹:\
$S = 3P_{fb}^* + 2P_d^* + 1P_t^* + 2I_{fb}^* + 1I_d^*$

## í† í° ì‹¤í–‰ ë° ê¸°ì—¬ë„ ì ìˆ˜ í™•ì¸ ë°©ë²•

1. í† í° ì‹¤í–‰ ë°©ë²• (API KEY í¬í•¨)
- ì²˜ìŒ ì‹¤í–‰ ì‹œì—ëŠ” ì•„ë˜ì™€ ê°™ì´ í† í°ì„ í•¨ê»˜ ì…ë ¥í•´ì•¼ í•¨:
```bash
node index.js -a ghp_ABC123ABC123 oss2025hnu/reposcore-js 
```
- ìœ„ ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ .env íŒŒì¼ì´ ìë™ ìƒì„±ë˜ë©°, ì…ë ¥í•œ í† í°ì´ ë¡œì»¬ í™˜ê²½ì— ì €ì¥ë¨
- -env íŒŒì¼ì´ ìƒì„±ëœ ì´í›„ì—ëŠ” ì•„ë˜ ëª…ë ¹ì–´ë¡œ í† í° ì—†ì´ë„ ì‹¤í–‰ì´ ê°€ëŠ¥.

```bash
node index.js oss2025hnu/reposcore-js
```
--use-cache ì˜µì…˜ ì‚¬ìš© ì‹œ, ê¸°ì¡´ cache.json ë°ì´í„°ë¥¼ í™œìš©í•´ ì†ë„ í–¥ìƒ.

- ë§Œì•½ ìºì‹œ íŒŒì¼ì´ ì—†ê±°ë‚˜ ì†ìƒëœ ê²½ìš°, ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ê°€ì ¸ì˜´

2. ê¸°ì—¬ë„ ì ìˆ˜ í™•ì¸
- ì…ë ¥í•˜ëŠ” ê³³-> í„°ë¯¸ë„ì—ì„œ ì•„ë˜ì— ìˆëŠ” ëª…ë ¹ì–´ë¥¼ ë³µì‚¬ ë° ë¶™ì—¬ë„£ê¸°
- 1ë²ˆ í•­ëª©ì˜ ì˜ˆì‹œ ëª…ë ¹ì–´ì²˜ëŸ¼ í•œ ê°œì˜ ì €ì¥ì†Œ ë§í¬ë§Œ ì¸ìë¡œ ì‚¬ìš©
- ëª¨ë“  ì €ì¥ì†Œì˜ í†µí•© ê¸°ì—¬ë„ ì ìˆ˜ í™•ì¸ë°©ë²•: ì•„ë˜ ëª…ë ¹ì–´ë¡œ í™•ì¸ ê°€ëŠ¥

```bash
node index.js oss2025hnu/reposcore-js oss2025hnu/reposcore-py oss2025hnu/reposcore-cs
```

ì‹¤í–‰í•˜ë©´ results/ í´ë”ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²°ê³¼ë¬¼ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.
- index.html : í†µí•© ë¦¬í¬íŠ¸ì¸ html í˜•ì‹ ì›¹ íŒŒì¼
- table.csv : ê¸°ì—¬ë„ ì ìˆ˜ì˜ csv íŒŒì¼
- table.txt : ê¸°ì—¬ë„ ì ìˆ˜ì˜ txt í˜•ì‹ í…ìŠ¤íŠ¸ í‘œ íŒŒì¼
- table.png : ê¸°ì—¬ë„ ì ìˆ˜ì˜ png í˜•ì‹ ì‚¬ì§„ íŒŒì¼
- total.* : ê° ì €ì¥ì†Œ ê¸°ì—¬ë„ ì ìˆ˜ íŒŒì¼ì„ ê°™ì€ í˜•ì‹ë¼ë¦¬ ëª¨ë‘ í†µí•©í•œ íŒŒì¼

3. ê¸°ì—¬ë„ ì ìˆ˜ ë“±ìˆ˜ í‘œê¸°
ê³µë™ ìˆœìœ„ì œ: ë™ì¼ ì ìˆ˜ëŠ” ê°™ì€ ë“±ìˆ˜, ì´í›„ ìˆœìœ„ëŠ” ì¸ì› ìˆ˜ë§Œí¼ ê±´ë„ˆëœë‹ˆë‹¤.


## ìœ ë‹› í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
Test
ì´ ì €ì¥ì†Œì—ì„œ ê¸°ë³¸ì ì¸ ë™ì‘ ì´ìƒ ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í˜„ì¬ PRì˜¤ë¥˜ë¡œ ì¸í•´ ì‘ë™ì´ ì•„ì§ì€ ì•ˆë˜ë¯€ë¡œ, ì—…ë°ì´íŠ¸ê°€ ë˜ë©´ Readme DOCë¥¼ ìˆ˜ì •í•  ì˜ˆì •ì…ë‹ˆë‹¤.

```bash
npm run test
```
## ğŸ“š ê°€ì´ë“œ ë¬¸ì„œ ëª¨ìŒ

### [ê²°ê³¼ ë¦¬í¬íŠ¸(index.html) í™•ì¸ ê°€ì´ë“œ](docs/view_results_guide.md)

### [í”„ë¡œì íŠ¸ ê°€ì´ë“œë¼ì¸](docs/project_guidelines.md)

### [í¬í¬ ë™ê¸°í™” ê°€ì´ë“œ](docs/fork_sync_guide.md)

### [Github Token ë°œê¸‰ ê°€ì´ë“œ](docs/token_guide.md)

### [ESM(ECMAScript Module) ì „í™˜ ì•ˆë‚´](docs/esm_guide.md)

### [ë””ë²„ê¹… ê°€ì´ë“œ](docs/debug_guide.md)

### [í…Œë§ˆ ì„¤ì • ê°€ì´ë“œ](docs/theme_guide.md)

### [ë¡œê·¸ ë ˆë²¨ë³„ ì‚¬ìš© ë°©ì‹](docs/logging_guide.md)

### [Cherry Pick ì‚¬ìš© ë°©ë²•](docs/cherry-pick_guide.md)